# פתרון בעיות - API Key לא תקין

## הבעיה: "Invalid API key. Please check your API key"

אם אתה רואה את ההודעה הזו, זה אומר שה-API key לא תקין או לא מוגדר נכון.

## שלבים לפתרון:

### שלב 1: בדוק אם קובץ .env קיים

1. פתח את תיקיית `client` בפרויקט
2. ודא שיש קובץ בשם `.env` (לא `.env.txt` או משהו אחר)
3. אם אין קובץ כזה - צור אותו

### שלב 2: בדוק את תוכן קובץ .env

פתח את קובץ `.env` ובדוק שהוא נראה כך:

```
VITE_WEATHER_API_KEY=המפתח_שלך_כאן
```

**חשוב:**
- אין רווחים לפני או אחרי `=`
- אין גרשיים או מרכאות מסביב למפתח
- המפתח צריך להיות מחרוזת ארוכה של תווים (כ-32 תווים)

**דוגמה נכונה:**
```
VITE_WEATHER_API_KEY=1234567890abcdef1234567890abcdef
```

**דוגמאות שגויות:**
```
VITE_WEATHER_API_KEY = 1234567890abcdef  ❌ (רווחים)
VITE_WEATHER_API_KEY="1234567890abcdef"  ❌ (גרשיים)
VITE_WEATHER_API_KEY='1234567890abcdef'  ❌ (גרשיים)
```

### שלב 3: ודא שה-API key תקין

1. היכנס לאתר OpenWeatherMap: https://openweathermap.org/api
2. התחבר לחשבון שלך
3. לך ל-"API keys" בתפריט
4. העתק את ה-API key שלך (זה מחרוזת ארוכה)
5. הדבק אותו בקובץ `.env` אחרי `VITE_WEATHER_API_KEY=`

### שלב 4: הפעל מחדש את השרת

**חשוב מאוד!** לאחר שינוי קובץ `.env`, אתה חייב להפעיל מחדש את השרת:

1. עצור את השרת (לחץ Ctrl+C בטרמינל)
2. הפעל מחדש עם: `npm run dev`

אם לא תפעיל מחדש, השינויים לא ייכנסו לתוקף!

### שלב 5: בדוק בקונסול

1. פתח את הקונסול בדפדפן (F12)
2. לך לטאב "Console"
3. רענן את הדף
4. חפש הודעות שגיאה

אם אתה רואה:
- `Fetching weather from: ...` - זה טוב, הקוד מנסה להתחבר
- `Weather API error: 401` - זה אומר שה-API key לא תקין
- `Weather API error: 403` - זה אומר שה-API key חסום או לא פעיל

### שלב 6: בדוק את ה-API key ב-OpenWeatherMap

1. היכנס ל-OpenWeatherMap
2. לך ל-"API keys"
3. ודא שה-API key שלך פעיל (לא חסום)
4. אם הוא חסום, תוכל ליצור אחד חדש

### שלב 7: בדוק את המגבלות

התוכנית החינמית מאפשרת:
- 60 קריאות לדקה
- 1,000,000 קריאות לחודש

אם חרגת מהמגבלות, תצטרך לחכות או לשדרג את התוכנית.

## בדיקה מהירה:

פתח את הקונסול (F12) והקלד:

```javascript
console.log(import.meta.env.VITE_WEATHER_API_KEY)
```

אם אתה רואה `undefined` - הקובץ `.env` לא נקרא נכון או השרת לא הופעל מחדש.

אם אתה רואה את המפתח - הוא מוגדר, אבל יכול להיות שהוא לא תקין.

## אם עדיין לא עובד:

1. ודא שהקובץ `.env` נמצא בתיקיית `client` (לא בתיקיית השורש)
2. ודא שאין שגיאות כתיב בשם המשתנה: `VITE_WEATHER_API_KEY`
3. נסה ליצור API key חדש ב-OpenWeatherMap
4. ודא שהחשבון שלך ב-OpenWeatherMap פעיל

## טיפים:

- לעולם אל תעלה את קובץ `.env` ל-GitHub (הוא כבר ב-.gitignore)
- כל מפתח פיתוח צריך API key משלו
- אם אתה עובד בקבוצה, כל אחד צריך API key משלו
